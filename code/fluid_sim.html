<html>
<head>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.4/gist-embed.min.js"></script>
  <link rel="stylesheet" type="text/css" href="../css/default.css">
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Ubuntu:regular,bold&subset=Latin">
  <title>FluidSim()</title>
</head>
<body>
  <div class="header_wrapper">
    <header>
      <h1><a class="homelink" href="../index.html">while(true) { code(); }</a></h1>
        <div class="contact-info">
          <h4 id="name">Chad Foxglove</h4>
          <br>
          <h4 id="occupation">FX Artist / Programmer</h4>
          <br>
          <a href="chandra.foxglove@gmail.com">chandra.foxglove@gmail.com</a><br>
          <div align="left">
            <a href="http://www.github.com/chadmiral">
              <img id="git-image" src="../GitHub-Mark-32px.png" width="24px" height="24px">
            </a>
            <a href="https://www.linkedin.com/in/chad-foxglove-3534662?trk=hp-identity-name">
              <img id="git-image" src="../linkedin_circle_black-512.png" width="24px" height="24px">
            </a>
          </div>
        </div>
    </header>
  </div>

  <div id="content">
      <h2 class='brackets'>FluidSim2D()</h2>
      <h2 class="brackets">{</h2>
    <div id="content-main">
      <h1>Description</h1><p>
      FluidSim2D() is a 2-dimensional incompressible fluid simulation that
      runs on the CPU. The core algorithm is outlined
      in
      <i>
        <a href="http://www.intpowertechcorp.com/GDC03.pdf">
          Real-Time Fluid Dynamics for Games.
          <a href="#footnote1"><sub>1</sub></a>
        </a>
      </i>
      <br>
      A simple SDL2 and OpenGL framework is used for rendering the resulting
      fluid grid to the screen.

      <center>
        <img src="fluid_sim.gif" width="400px" height="400px">
        <div class="footnote">
          <b>fig. 1</b><br>
          3 channel fluid simulating on the CPU with Perlin Simplex Noise
          turbulence.
        </div>
      </center>
      <p>
      <h1>Overview</h1><p>
      The physics simulation makes use of offscreen render targets to store
      position data per hair strand, vertex and fragment shaders to perform
      the physics simulation, and a final rendering pass to render the strands.<p>
      We extend the algorithm described in the original paper by allowing an
      arbitrary number of fluid "channels", and by allowing the attachment of
      "interactor" objects.<p>
      <center>
        <img src="fluid_sim_block_diagram.png" width="70%"><p>
        <div class="footnote">
          <b>fig. 2</b><br>
          The core fluid simulation pipeline.
        </div>
      </center>
      <h1>Interactors</h1><p>
      The fluid simulator stores an array of "Interactor" objects which can
      affect the simulation in various ways. To date, the following interactors
      have been implemented.
      <ul>
        <li>Inflow - add new density to the fluid grid
        <li>Outflow - remove density from the fluid grid
        <li>Turbulence - apply a smooth Simplex Noise turbulence to the fluid grid
        <li>Angle Snapper - snaps all velocities to discrete angles.
      </ul>
      <p>
      <h1>Future Work</h1><p>
      Fluid simulation is an ideal candidate to run on the GPU due to the
      simulation's parallel nature. The density / velocity channels can easily
      be stored in floating-point textures, while the advection / diffusion
      simulation can be implemented in GLSL shaders.
      <p>
      Adding support for 3-dimensional fluid simulation would be an easy
      extrapolation of the current algorithm. The rendering code would need
      to be altered to support volumetrics.
      <p>
      For high-resolution simulations, an offline "bake" and "playback" feature
      would allow for more realistic simulations that can't be simulated in
      real-time.
      <h1>Source Code</h1><p>
      <a href="https://github.com/chadmiral/commonlib/tree/master/fluids">fluids (github)</a>
      <hr>
      <a name="footnote1"></a>
      <div class="footnote">
        1. Real-Time Fluid Dynamics for Games, Jos Stam, Alias | Wavefront.
      </div>
    </div>
  </div>
  <h2 class="brackets">}</h2>
</body>
</html>
